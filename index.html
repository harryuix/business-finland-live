<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Business Finland</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:100,200,300,400,700,800" rel="stylesheet">
<script src="https://cdn.anychart.com/releases/8.0.0/js/anychart-base.min.js"></script>

 <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">

    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
      <div class="container">
        <a class="navbar-brand" href="index.html">Business Finland</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
         
        </div>
      </div>
    </nav>
    <!-- END nav -->
    
    <section class="home-slider ftco-degree-bg">
      <div class="slider-item">
        <div class="overlay"></div>
        <div class="container">
          <div class="row slider-text align-items-center justify-content-center">
            <div class="col-md-10 ftco-animate text-center">
              <h1 class="mb-4">I love to 
                <strong class="typewrite" data-period="4000" data-type='[ "Travel Finland.", "Explore Finland.", "Work in Finland.", "Capture Finland." ]'>
                  <span class="wrap"></span>
                </strong>
              </h1>
              <p>Enhance business opportunities and tourism experience.</p>
              <p></p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- END slider -->

    <section class="ftco-section-featured ftco-animate">
      <div class="container">
        <div class="row">
		 
          <div class="col-md-12" >
		  <h2>Real Time Analysis</h2>
		  <div id="myDiv"></div>
		  <span style="color:black;" id="date"></span>
            <!-- <div class="carousel owl-carousel"> -->
              <!-- <div class="item"> -->
                <!-- <a href="portfolio.html"> -->
                  <!-- <img src="images/dashboard_full_1.jpg" class="img-fluid" alt=""> -->
                <!-- </a> -->
              <!-- </div> -->
              <!-- <div class="item"> -->
                <!-- <a href="portfolio.html"> -->
                  <!-- <img src="images/dashboard_full_2.jpg" class="img-fluid" alt=""> -->
                <!-- </a> -->
              <!-- </div> -->
              <!-- <div class="item"> -->
                <!-- <a href="portfolio.html"> -->
                  <!-- <img src="images/dashboard_full_3.jpg" class="img-fluid" alt=""> -->
                <!-- </a> -->
              <!-- </div> -->
            <!-- </div> -->
			
			
			
			
          </div>
        </div>
      </div>
    </section>
    

    

    

   
   
   
  
   

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>

  <script>

//store csv file in js variable
		var jsonFile = ["raw","raw3","raw4","raw5","raw6","raw7","raw8","raw9","raw10"];
		var url="Budapest/station.csv";
		var request = new XMLHttpRequest();  
		request.open("GET", url, false);   
		request.send(null);  
	
		var csvData = new Array();
		var jsonObject = request.responseText.split(/\r?\n|\r/);
		for (var i = 0; i < jsonObject.length; i++) {
		  csvData.push(jsonObject[i].split(','));
		}
		// Retrived data from csv file content
		
		var dat=new Array();
		for (i=2;i<=csvData.length;i=i+2)
		{
			dat.push(csvData[i][0]);
			//dat+= ", "+csvData[i][0];
		}
		var index=0;
		
		window.setInterval(function(){
		  
		  index= index % jsonFile.length+1;
		  go();
		}, 1000);
		
		
		function getURL()
		{
			
			return jsonFile[index];
		}
		
		function go()
		{
			
		//store json in js variable
		var yourUrl="./Budapest/"+getURL()+".json";
		
		var xhReq = new XMLHttpRequest();
		xhReq.open("GET", yourUrl, false);
		xhReq.send(null);
		var jsonObject = JSON.parse(xhReq.responseText);
		console.log(jsonObject);
		document.getElementById("date").innerHTML=jsonObject.raw[0].time;
		var objects=jsonObject;
		var counts={};
		objects.raw.forEach(function (o) {
			// add the type to the hash if it is missing;
			// set initial count to 0
			if (!counts.hasOwnProperty(o.serial)) {
				counts[o.serial] = 0;
			}
			// increment the count based on the type
			counts[o.serial] += 1;
		});

		
		var i=0;
		var y = new Array();
		var yAxis="[",yData,nn;
		var temp="";
		for (i=2;i<=csvData.length;i=i+2)
		{
			if(i!=2)
				{
				temp+=",";
				yAxis+=","
				}
			yData=counts[csvData[i][0]];
			if(yData==null)
				yData=0;
			y.push(yData);
			yAxis+=" "+parseInt(yData);
			nn=csvData[i][0]
			
			temp+="["+nn+","+yData+"]"
			
			
		}
		yAxis+="]";
		console.log(yAxis);
		

var trace1 = {
  x: dat, 
  y: y, 
  name: 'SF Zoo', 
  type: 'bar'
};



var data = [trace1];
var layout = {barmode: 'group'};

Plotly.newPlot('myDiv', data, layout, {}, {showSendToCloud:true});

		}
		
		
		/*var dat={};
		var g=0;
		for (i=2;i<=csvData.length;i=i+2)
		{
			
			dat[g++]= csvData[i][3];
		}*/
		
</script>
  

  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>
  <script src="js/jquery.timepicker.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
    
  </body>
</html>